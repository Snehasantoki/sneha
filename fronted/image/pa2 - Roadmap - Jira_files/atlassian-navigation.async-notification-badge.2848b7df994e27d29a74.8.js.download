try{window.performance.mark("atlassian-navigation.async-notification-badge.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["atlassian-navigation.async-notification-badge"],{Be4h:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n("3tO9"),a=n.n(s),i=n("IhsF"),r=n("MblU");const o="atlaskitNotificationLogClient";class c{constructor(e,t,n=o){this.serviceConfig={url:e},this.cloudId=t,this.source=n}async countUnseenNotifications(e={}){const t=a()(a()({path:"/api/3/notifications/count/unseen"},e),{},{queryParams:a()(a()({},this.cloudId&&{cloudId:this.cloudId}),{},{source:this.source},e.queryParams||{}),requestInit:a()({mode:"cors",headers:{"x-app-version":`${r.a}-${o}`}},e.requestInit||{})});return i.b.requestService(this.serviceConfig,t)}}},IhsF:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return f}));var s={};n.r(s),n.d(s,"requestService",(function(){return d}));var a=n("lSNA"),i=n.n(a);class r{
constructor(){i()(this,"listeners",new Set)}subscribe(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}unsubscribe(e){this.listeners.delete(e)}notifyResult(e){this.listeners.forEach((t=>{t.result(e)}))}notifyError(e){this.listeners.forEach((t=>{t.error&&t.error(e)}))}notifyInfo(e){this.listeners.forEach((t=>{t.info&&t.info(e)}))}notifyNotReady(){this.listeners.forEach((e=>{e.notReady&&e.notReady()}))}}var o=n("3tO9"),c=n.n(o);const u={},l=(e,t)=>{if(t)for(const n in t)if({}.hasOwnProperty.call(t,n)){const s=t[n];if(Array.isArray(s))for(let t=0;t<s.length;t++)e[n]=s[t];else e[n]=s}},d=(e,t)=>{const{url:n,securityProvider:s,refreshedSecurityProvider:a}=e,{path:i,queryParams:r,requestInit:o}=t||u,f=s&&s(),h=((e,t="",n,s)=>{const a=new URLSearchParams(new URL(e,"https://BASE_FALLBACK").search||void 0);if(e=e.split("?")[0],n)for(const o in n)({}).hasOwnProperty.call(n,o)&&a.append(o,n[o]);if(s&&s.params)for(const o in s.params)if({}.hasOwnProperty.call(s.params,o)){
const e=s.params[o];if(Array.isArray(e))for(let t=0;t<e.length;t++)a.append(o,e[t]);else a.append(o,e)}let i="";t&&"/"!==e.substr(-1)&&!t.startsWith("/")&&(i="/");let r=a.toString();return r&&(r="?"+r),`${e}${i}${t}${r}`})(n,i,r,f),m=((e,t)=>{const n={};return l(n,t),e&&l(n,e.headers),n})(f,o&&o.headers),p=(e=>e&&e.omitCredentials?"omit":"include")(f),y=(null==t?void 0:t.ignoreResponsePayload)||!1,b=c()(c()({},o),{},{headers:m,credentials:p});return fetch(h,b).then((e=>204===e.status?Promise.resolve():e.ok?y?Promise.resolve():e.json():401===e.status&&a?a().then((e=>d({url:n,securityProvider:()=>e},t))):Promise.reject({code:e.status,reason:e.statusText})))},f=s},MblU:function(e){e.exports=JSON.parse('{"a":"6.0.0"}')},feUo:function(e,t,n){"use strict";n.r(t),n.d(t,"Badge",(function(){return d}));var s=n("q1tI"),a=n.n(s),i=n("Be4h"),r=n("6xe2");const o=Object(r.g)((()=>n.e("async-atlaskit-badge").then(n.bind(null,"mUzi"))),{ssr:!1,
moduleId:"./node_modules/@atlaskit/badge/dist/cjs/index.js"}),c=e=>a.a.createElement(n("iqve").a,{id:"help.atlaskit-badge",packageName:n("aCQb").m,teamName:"navigation"},a.a.createElement(r.a,{fallback:null},a.a.createElement(o,e)));c.displayName="LazyNotifications";class u extends i.a{constructor(e){super("",""),this.count=0,this.count=e}countUnseenNotifications(){return Promise.resolve({count:this.count})}}const l=new u(0),d=({isNotificationCleared:e})=>{const[t,i]=Object(s.useState)(0),r=(async e=>{const[{releaseNotesNotifications:t}]=Object(n("UxYk").a)(),a=Object(s.useMemo)((()=>new u(t)),[t]);return await Promise.resolve(e||0===t?l:a)})(e);return Object(s.useEffect)((()=>{(async()=>{const e=await r;i(e.count)})()}),[r]),t>0?a.a.createElement(c,{max:3,appearance:"primary"},t):null}},xf3x:function(e,t,n){"use strict";n.r(t),n.d(t,"Badge",(function(){return m}));var s=n("q1tI"),a=n.n(s),i=n("Be4h"),r=n("6xe2")
;const o=Object(r.f)((()=>n.e("async-atlaskit-notification-indicator").then(n.bind(null,"VwTp")).then((e=>e.NotificationIndicator))),{ssr:!1,moduleId:"./node_modules/@atlaskit/notification-indicator/dist/cjs/index.js"}),c=e=>a.a.createElement(r.a,{fallback:null},a.a.createElement(o,e));let u;c.displayName="LazyNotificationIndicator";class l extends i.a{constructor(e){super("",""),this.mockedCount=0,this.mockedCount=e}countUnseenNotifications(){return Promise.resolve({count:this.mockedCount})}}const d=new l(0),f=6e4,h=18e4,m=({isNotificationCleared:e,setIsNotificationCleared:t,isNotificationDrawerOpen:r})=>{const[o,l]=Object(s.useState)(f),m=((e,t)=>{const{fabricNotificationLogUrl:a}=Object(n("QwAD").c)(),r=a||"",o=Object(s.useMemo)((()=>new i.a(r,void 0)),[r]);return Promise.resolve(e||t?d:o)})(e,r);return a.a.createElement(c,{notificationLogProvider:m,refreshRate:o,onCountUpdated:(n={newCount:0})=>{n.newCount&&l(h),e?u=setTimeout((()=>t(!1)),1e4):u&&clearTimeout(u)}})}
;m.displayName="Badge"}}]);try{window.__jsEvalStop("atlassian-navigation.async-notification-badge.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/atlassian-navigation.async-notification-badge.2848b7df994e27d29a74.8.js.map