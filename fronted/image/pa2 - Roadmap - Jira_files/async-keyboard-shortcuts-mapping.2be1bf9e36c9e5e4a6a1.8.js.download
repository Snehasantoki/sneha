try{window.performance.mark("async-keyboard-shortcuts-mapping.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-keyboard-shortcuts-mapping"],{"0Q2g":function(e,t,a){var r=a("W6/K");e.exports=function(e,t){return e&&e.length&&t&&t.length?r(e,t):e}},"2GsC":function(e,t){e.exports=function(e,t,a,r){for(var n=a-1,s=e.length;++n<s;)if(r(e[n],t))return n;return-1}},EwQA:function(e,t,a){var r=a("zZ0H");e.exports=function(e){return"function"==typeof e?e:r}},Mgzh:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const r=Object(a("0b8M").a)({initialState:{isEnabled:!("false"===Object(a("vlh1").a)("ajs-keyboard-shortcuts-enabled")),error:null},actions:{toggle:(e,t)=>async({setState:e,getState:r})=>{const n=r().isEnabled,s=`/rest/internal/latest/user/preferences/keyboardShortcuts?turn=${n?"off":"on"}`;try{await Object(a("2tF7").f)(s),e({isEnabled:!n,error:null}),Object(a("SALc").h)(t,"keyboardShortcutsToggle",{isEnabled:!n})}catch(c){e({error:c}),
Object(a("q2+m").a)({meta:{id:"keyboardShortcutToggleFailure",packageName:"jiraCommonLegacyDoNotAddAnythingNew"},error:c})}}}}),n=Object(a("dq9g").b)(r);Object(a("Y6nV").a)(r)},OFL0:function(e,t,a){var r=a("lvO4"),n=a("4sDh");e.exports=function(e,t){return null!=e&&n(e,t,r)}},P0aG:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("q1tI");const n=({children:e})=>{const{collapseLeftSidebar:t,expandLeftSidebar:n}=Object(a("r7wj").a)(),{isCollapsed:s,width:c}=Object(a("r7wj").b)(),o=Object(r.useRef)({state:{isCollapsed:s,isResizing:!1,isResizeDisabled:!1,productNavWidth:c},collapse:t,expand:n,toggleCollapse:()=>s?n():t()}),l=Object(r.useMemo)((()=>({state:{isCollapsed:s,isResizing:!1,isResizeDisabled:!1,productNavWidth:c},collapse:t,expand:n,toggleCollapse:()=>s?n():t()})),[t,n,s,c]);return o.current=Object.assign(o.current,l),e(o.current)}},SKAX:function(e,t,a){var r=a("JC6p"),n=a("lQqw")(r);e.exports=n},"W6/K":function(e,t,a){
var r=a("eUgh"),n=a("R/W3"),s=a("2GsC"),c=a("sEf8"),o=a("Q1l4"),l=Array.prototype.splice;e.exports=function(e,t,a,i){var u=i?s:n,d=-1,p=t.length,b=e;for(e===t&&(t=o(t)),a&&(b=r(e,c(a)));++d<p;)for(var h=0,y=t[d],g=a?a(y):y;(h=u(b,g,h,i))>-1;)b!==e&&l.call(b,h,1),l.call(e,h,1);return e}},bNQv:function(e,t,a){var r=a("gFfm"),n=a("SKAX"),s=a("EwQA"),c=a("Z0cm");e.exports=function(e,t){return(c(e)?r:n)(e,s(t))}},bcBz:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a("q1tI"),n=a.n(r);const s=Object(r.createContext)(a("k2SY").b),c=({children:e=null})=>{const t=Object(r.useMemo)((()=>new(a("k2SY").a)),[]),c=Object(r.useContext)(s)||a("k2SY").b;return Object(r.useEffect)((()=>c.addChildRegistry(t)),[]),n.a.createElement(s.Provider,{value:t},e)};c.displayName="ShortcutScope",t.b=c},fbZ3:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return c}));var r={open:()=>({setState:e})=>{e({isOpen:!0})},close:()=>({setState:e})=>{e({isOpen:!1})}}
;var n=Object(a("0b8M").a)({name:"modals",initialState:{isOpen:!1},actions:r});const s=Object(a("UCyb").a)(n),c=Object(a("Y6nV").a)(n,{displayName:"ModalsSubscriber",selector:e=>e.isOpen})},hzCD:function(e,t,a){var r=a("EA7m")(a("0Q2g"));e.exports=r},k2SY:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u}));var r=a("3tO9"),n=a.n(r),s=(a("bNQv"),a("OFL0")),c=a.n(s),o=(a("J2iB"),a("hzCD")),l=a.n(o);class i{constructor(){this.children=[],this.keyMapRetrievers=[]}addChildRegistry(e){return this.children.push(e),()=>{l()(this.children,e)}}addKeyMap(e){return this.keyMapRetrievers.push(e),()=>{l()(this.keyMapRetrievers,e)}}getActiveKeyMap(){const e=this.children.length?this.children.map((e=>e.getActiveKeyMap())):this.keyMapRetrievers.map((e=>e().keyMap));return n()({},(e=>e.reduce(((e,t)=>n()(n()({},e),Object.keys(t).reduce(((a,r)=>{var s,o
;return!c()(e,r)||(null!==(s=e[r].priority)&&void 0!==s?s:0)<(null!==(o=t[r].priority)&&void 0!==o?o:1)?n()(n()({},a),{},{[r]:t[r]}):a}),{}))),{}))(e))}getKeyMapInfo(){const e=this.children.length?this.children.map((e=>e.getKeyMapInfo())):this.keyMapRetrievers.map((e=>e()));return[].concat(...e)}}const u=new i},kdyv:function(e,t,a){"use strict";var r=a("QILm"),n=a.n(r),s=a("q1tI"),c=a.n(s),o=a("4c1C"),l=a("8yf6");a("sx9y"),a("DlyV"),a("fjAU"),a("M67X"),a("4XzM"),a("MSNS"),a("k558"),a("g5/V");const i={Control:!0,Meta:!0,Shift:!0,Alt:!0,AltGraph:!0,CapsLock:!0,Fn:!0,FnLock:!0,Hyper:!0,NumLock:!0,OS:!0,ScrollLock:!0,Super:!0,Symbol:!0,SymbolLock:!0
},u=o.Observable.fromEvent(document,"keydown").filter((e=>"string"==typeof e.key&&("Escape"===e.key||!(e=>"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName||!0===e.isContentEditable)(e.target)&&!i[e.key]))).filter((()=>null==document.querySelector('.aui-blanket:not([aria-hidden="true"])'))).map(a("yO4b").c),d=u.scan(((e,t)=>`${String(e)} ${String(t)}`)),p=new l.Subject,b=()=>{p.next()};var h=u.debounceTime(1e3).startWith(null).merge(p).switchMapTo(d);var y=e=>{const t=a("k2SY").b.getActiveKeyMap();if(void 0!==e&&t[e])t[e].callback(),b();else{void 0!==e&&Object.keys(t).some((e=>t=>t.startsWith(`${e} `))(e))||b()}},g=a("3tO9"),f=a.n(g);const k=(e,t,r="keyboard-shortcuts.common")=>()=>{try{t()}catch(n){a("ZXUb").a.safeErrorWithoutCustomerData(r,`Error firing shortcut '${e}': ${n.message}`,n)}},m=(e,t)=>Object.keys(e).reduce(((a,r)=>f()(f()({},a),{},{[r]:f()(f()({},e[r]),{},{callback:k(r,e[r].callback,t)})})),{}),S=["useKeyboardShortcutsToggle"];let v=0,j=null
;const E=({keyMap:e,label:t,location:r})=>{const n=Object(s.useContext)(a("bcBz").a)||a("k2SY").b,c=Object(s.useCallback)((()=>n.addKeyMap((()=>({keyMap:m(e,r),label:t})))),[t,n,e,r]);return Object(s.useEffect)((()=>{v+=1;const e=c();return()=>{e(),v-=1,j&&0===v&&(j.unsubscribe(),j=null)}}),[c]),Object(s.useEffect)((()=>{j=j||h.subscribe(y)}),[n,e]),null};t.a=e=>{let{useKeyboardShortcutsToggle:t=a("Mgzh").a}=e,r=n()(e,S);const[{isEnabled:s}]=t();return s?c.a.createElement(E,r):null}},lQqw:function(e,t,a){var r=a("MMmD");e.exports=function(e,t){return function(a,n){if(null==a)return a;if(!r(a))return e(a,n);for(var s=a.length,c=t?s:-1,o=Object(a);(t?c--:++c<s)&&!1!==n(o[c],c,o););return a}}},lvO4:function(e,t){var a=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&a.call(e,t)}},sBEl:function(e,t,a){"use strict";a.d(t,"b",(function(){return a("kdyv").a})),a.d(t,"a",(function(){return a("bcBz").b}))},yO4b:function(e,t,a){"use strict";a.d(t,"c",(function(){return s
})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u}));const r=e=>e.key.length>1||" "===e.key,n=[{name:"ctrl",test:e=>e.ctrlKey},{name:"shift",test:e=>e.shiftKey&&r(e)},{name:"meta",test:e=>e.metaKey||e.getModifierState&&e.getModifierState("OS")}],s=e=>e&&e.key?n.filter((t=>t.test(e))).map((e=>e.name)).concat((e=>r(e)?e.key.toLowerCase():e.shiftKey?e.key.toUpperCase():e.key.toLowerCase())(e)).join("+"):"",c=" |arrowdown|arrowleft|arrowright|arrowup|backspace|clear|delete|end|enter|escape|home|insert|pagedown|pageup|pause|printscreen|tab",o=`(ctrl\\+)?(shift\\+(?=(?:(?:meta\\+)?(?:${c}))))?(meta\\+)?(${c}|[!-~])`,l=RegExp(`^${o}( ${o})*$`),i=e=>l.test(e),u=(e,t)=>e&&t?t===e||(0===e.indexOf(t)?" "===e[t.length]:0===t.indexOf(e)&&" "===t[e.length]):e===t},zMlt:function(e,t,a){"use strict";a.r(t);var r=a("3tO9"),n=a.n(r),s=a("zuKv");const c=({createAnalyticsEvent:e,id:t,key:a,attributes:r={}})=>{e({action:"pressed",actionSubject:"keyboardShortcut",actionSubjectId:t,
attributes:n()({navVersion:window.__NAV_VERSION__||"UNKNOWN",key:a},r)}).fire(s.FabricChannel.navigation)};var o=a("q1tI"),l=a.n(o),i=a("6xe2");const u=Object(i.f)((()=>a.e("atlassian-jira-keyboard-shortcuts.dialog").then(a.bind(null,"Mx2y"))),{ssr:!1,moduleId:"./src/packages/common-legacy-do-not-add-anything-new/src/components/keyboard-shortcuts-dialog/index.tsx"}),d=e=>l.a.createElement(a("iqve").a,{id:"integrations.keyboard-shortcuts-dialog",packageName:"jira-keyboard-shortcuts",fallback:"unmount"},l.a.createElement(i.a,{fallback:null},l.a.createElement(u,e)));d.displayName="KeyboardShortcutsDialog";var p=Object(a("uKP8").a)({globalShortcuts:{id:"keyboard-shortcuts.global-shortcuts",defaultMessage:"Global shortcuts",description:""},quickSearch:{id:"keyboard-shortcuts.quick-search",defaultMessage:"Quick search",description:""},closeDrawer:{id:"keyboard-shortcuts.close-drawer",defaultMessage:"Close drawer",description:""},createIssue:{id:"keyboard-shortcuts.create-issue",
defaultMessage:"Create issue",description:""},keyboardShortcuts:{id:"keyboard-shortcuts.keyboard-shortcuts",defaultMessage:"Keyboard shortcuts",description:""},findIssues:{id:"keyboard-shortcuts.find-issues",defaultMessage:"Find issues",description:""},browseAProject:{id:"keyboard-shortcuts.browse-a-project",defaultMessage:"Browse to a project",description:""},toggleSidebar:{id:"keyboard-shortcuts.toggle-sidebar",defaultMessage:"Toggle sidebar",description:""},openHelpPanel:{id:"keyboard-shortcuts.open-help-panel",defaultMessage:"Open help panel",description:"Description of the keyboard shortcut to open the help-pane"}});class b extends o.Component{getKeyMap({toggleHelpPanel:e,openKeyboardShortcutsDialog:t,toggleCollapse:r,isNextGen:s}){const{baseUrl:c,navigateToIssueSearch:o,navigateToMostRecentProject:i,showIssueCreate:u,showSearch:d,shouldUseHelpShortcut:b}=this.props;return!0===s?n()({"?":{callback:t},"/":{callback:d},"[":{callback:r},escape:{callback:()=>{}},"g p":{
callback:()=>i(c)},"g i":{callback:()=>o(c)},c:{callback:u}},b&&__SPA__?{h:{callback:e}}:null):n()({"/":{callback:d,label:l.a.createElement(a("GKBH").a,p.quickSearch)},escape:{callback:()=>{},label:l.a.createElement(a("GKBH").a,p.closeDrawer)},c:{callback:u,label:l.a.createElement(a("GKBH").a,p.createIssue)},"?":{callback:t,label:l.a.createElement(a("GKBH").a,p.keyboardShortcuts)},"g i":{callback:()=>o(c),label:l.a.createElement(a("GKBH").a,p.findIssues)},"g p":{callback:()=>i(c),label:l.a.createElement(a("GKBH").a,p.browseAProject)},"[":{callback:r,label:l.a.createElement(a("GKBH").a,p.toggleSidebar)}},b&&__SPA__?{h:{callback:e,label:l.a.createElement(a("GKBH").a,p.openHelpPanel)}}:null)}createToggleCollapse(e){return()=>{const{createAnalyticsEvent:t}=this.props,{state:{isCollapsed:a},toggleCollapse:r}=e,n=document.querySelector('[data-testid="ContextualNavigation"]');!0===(n&&"0px"!==n.style.width)&&(c({createAnalyticsEvent:t,id:"expandCollapseSidebar",key:"["}),
(({createAnalyticsEvent:e,isCollapsed:t})=>{e({action:t?"expanded":"collapsed",actionSubject:"productNavigation",attributes:{trigger:"keyboardShortcut"}}).fire(s.FabricChannel.navigation)})({createAnalyticsEvent:t,isCollapsed:a}),r())}}createToggleHelpPanel(e){return()=>{const{createAnalyticsEvent:t,toggleHelpPanel:r}=this.props;c({createAnalyticsEvent:t,id:"openHelpPanel",key:"h",attributes:{helpPanelVersion:a("ZMdd").b,helpPanelType:"inProductHelp",nextGenProject:e}}),r()}}createOpenKeyboardShortcutsDialog(e){return()=>{const{createAnalyticsEvent:t}=this.props;c({createAnalyticsEvent:t,id:"keyboardShortcuts",key:"?"}),e()}}render(){const{ApplicationPermissionsSubscriber:e,KeyboardShortcutsDialog:t,ProjectCreateDrawerConsumer:r,Shortcuts:n,NavUIControllerSubscriber:s}=this.props;return l.a.createElement(e,null,(({data:e})=>l.a.createElement(r,null,(({data:{isOpen:r}})=>r?null:l.a.createElement(a("fbZ3").a,{scope:"keyboard-shortcuts"
},l.a.createElement(a("fbZ3").b,null,((r,{open:c,close:o})=>l.a.createElement(a("IbsU").a,null,(({data:i})=>{const u=!(!i||"project"!==i.contextType)&&i.project.isSimplified;return l.a.createElement(l.a.Fragment,null,r&&l.a.createElement(t,{isOpen:!0,onDialogDismissed:o,applicationPermissionData:e.applicationPermissions,isNextGen:u,shouldUseHelpShortcut:!0}),l.a.createElement(s,null,(e=>l.a.createElement(n,{isSpa:__SPA__,label:u?null:l.a.createElement(a("GKBH").a,p.globalShortcuts),keyMap:this.getKeyMap({toggleHelpPanel:this.createToggleHelpPanel(u),openKeyboardShortcutsDialog:this.createOpenKeyboardShortcutsDialog(c),toggleCollapse:this.createToggleCollapse(e),isNextGen:u})}))))})))))))))}}b.displayName="KeyboardShortcuts";t.default=Object(a("mHTv").a)(Object(a("VHV8").a)({showSearch:e=>c({createAnalyticsEvent:e,id:"quickSearch",key:"/"}),showIssueCreate:e=>c({createAnalyticsEvent:e,id:"createIssue",key:"c"}),navigateToIssueSearch:e=>c({createAnalyticsEvent:e,id:"findIssues",key:"g i"
}),navigateToMostRecentProject:e=>c({createAnalyticsEvent:e,id:"browseToProject",key:"g p"})})(b),{navigateToIssueSearch:e=>window.open(`${e}/issues/`,"_self"),navigateToMostRecentProject:e=>Object(a("2tF7").c)(`${e}/rest/internal/2/productsearch/search?type=projects`).then((e=>{const t=e.find((({id:e})=>"quick-search-projects"===e));t&&t.items&&t.items[0]&&t.items[0].url&&window.open(t.items[0].url,"_self")})),ApplicationPermissionsSubscriber:a("ZWaj").a,KeyboardShortcutsDialog:d,ProjectCreateDrawerConsumer:a("cBRi").a,Shortcuts:a("sBEl").b,NavUIControllerSubscriber:a("P0aG").a})}}]);try{window.__jsEvalStop("async-keyboard-shortcuts-mapping.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-keyboard-shortcuts-mapping.2be1bf9e36c9e5e4a6a1.8.js.map